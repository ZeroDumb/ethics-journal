---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<Layout title="ZeroDumb Ethics Journal">
  <div class="terminal-container bg-gray-900 rounded-lg border border-gray-700 overflow-hidden">
    <div class="terminal-header bg-gray-800 px-4 py-2 flex justify-between items-center">
      <span class="text-gray-300 font-mono">zerodumb@ethics-journal:~$</span>
      <div class="flex space-x-2">
        <span class="w-3 h-3 rounded-full bg-red-500"></span>
        <span class="w-3 h-3 rounded-full bg-yellow-500"></span>
        <span class="w-3 h-3 rounded-full bg-green-500"></span>
      </div>
    </div>
    <div class="terminal-body p-4 font-mono">
      <p class="text-terminal-green mb-4">
        <span class="text-gray-500">$</span> cat welcome.txt
      </p>
      <div class="text-gray-300 mb-6">
        Welcome to ZeroDumb Ethics Journal<br>
        Exploring the frontier of ethical hacking, recon, and digital responsibility.
      </div>
      <p class="text-terminal-green mb-4">
        <span class="text-gray-500">$</span> ls -l posts/
      </p>
      <div class="text-gray-300 space-y-2">
        <p>total {posts.length}</p>
        {posts.map(post => (
          <p>-rw-r--r-- 1 zero zero 4096 {post.data.pubDate.toLocaleDateString('en-US')} <a href={`/blog/${post.slug}`} class="text-terminal-cyan hover:underline">{post.slug}.md</a></p>
        ))}
      </div>
      <p class="text-terminal-green mt-6 animate-pulse">
        <span class="text-gray-500">$</span> _
      </p>
    </div>
  </div>
</Layout>